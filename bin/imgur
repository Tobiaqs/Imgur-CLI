#!/usr/bin/env node

'use strict';

const commander = require('commander');

commander
	.version('1.0.0')
	.description('Uploads image to imgur');

commander
	.command('upload [image]')
	.description('Upload image to imgur')
	.action((image) => {
		require('../lib/imgur').uploadImage(image);
	});

commander
	.command('watch [directory]')
	.description('Watch directory for changes. If left empty, it will automatically watch your Desktop')
	.action((directory) => {
		require('../lib/watch').watchFolder(directory);
	});

commander
	.command('*')
	.description('Wildcard command')
	.action(() => {
		commander.help();
	});

commander.parse(process.argv);

if (!commander.args.length) {
	commander.help();
}
